<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zz.psmback.dao.MessageDao">
    <select id="getMessages" resultType="com.zz.psmback.common.entity.vo.MessageView">
        select m.*,u1.nickname as receiver,u2.nickname as publisher,title
        from message m
        inner join user u1 on m.receiver_id=u1.user_id
        inner join user u2 on m.publisher_id = u2.user_id
        where receiver_id =#{receiverId}
    </select>
</mapper>
